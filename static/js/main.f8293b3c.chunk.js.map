{"version":3,"sources":["utils/fetchClient.ts","types/Status.ts","types/LocationEnum.ts","api/todos.ts","components/Footer/Footer.tsx","types/ErrorTypes.ts","components/Header/Header.tsx","components/TodoItem.tsx","components/TodoList.tsx","components/Main/Main.tsx","components/ErrorMessages/ErrorMessages.tsx","utils/getVisibleTodos.ts","App.tsx","index.tsx"],"names":["BASE_URL","wait","delay","Promise","resolve","setTimeout","request","url","method","data","options","body","JSON","stringify","headers","then","fetch","response","ok","Error","status","statusText","get","includes","json","Status","LocationEnum","client","getTodos","userId","deleteTodo","updateTodo","ErrorTypes","Footer","itemsLeftCount","onDeleteCompletedTodo","isAnyTodoCompleted","location","useLocation","className","to","cn","selected","pathname","all","data-type","default","active","completed","type","onClick","style","visibility","Header","countActiveTodo","onHandleAddTodo","disabeled","disabled","onChangeStatusAllTodo","haveNotTodos","useState","input","setInput","aria-label","onSubmit","event","preventDefault","placeholder","value","onChange","target","TodoItem","todo","onRemoveTodo","onChangeStatusTodo","setIdTodoForTempoTodo","onEditTodo","id","title","editing","setEditing","titleEdit","setTitleEdit","inputRef","useRef","useEffect","current","focus","htmlFor","checked","prev","ref","onBlur","onKeyDown","key","onDoubleClick","TodoList","visibleTodos","idTodoForTempoTodo","map","Main","ErrorMessages","errorMessage","setErrorMessage","USER_ID","App","todos","setTodos","disableInput","setDisableInput","locationPath","todosArr","filter","getVisibleTodos","length","some","a","result","ErrorGet","handleAddTodo","trim","todoTempo","createdTodo","ErrorPost","handleUpdateTodo","ErrorPatch","handleRemoveTodo","ErrorDelete","handleChangeStatusAllTodo","every","todosStatus","handleDeleteCompletedTodo","comletedTodos","loadedTodos","todoPrev","todoEdited","ReactDOM","render","document","getElementById"],"mappings":"mSACMA,EAAW,oCAGjB,SAASC,EAAKC,GACZ,OAAO,IAAIC,SAAQ,SAAAC,GACjBC,WAAWD,EAASF,MAOxB,SAASI,EACPC,GAGa,IAFbC,EAEY,uDAFY,MACxBC,EACY,uDADA,KAENC,EAAuB,CAAEF,UAW/B,OATIC,IAEFC,EAAQC,KAAOC,KAAKC,UAAUJ,GAC9BC,EAAQI,QAAU,CAChB,eAAgB,oCAKbb,EAAK,KACTc,MAAK,kBAAMC,MAAMhB,EAAWO,EAAKG,MACjCK,MAAK,SAAAE,GAAa,IAAD,EAChB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAJ,UAAaF,EAASG,OAAtB,cAAkCH,EAASI,aAGnD,OAAI,UAACJ,EAASH,QAAQQ,IAAI,uBAAtB,aAAC,EAAsCC,SAAS,qBAI7CN,EAASO,OAHP,IAAIL,MAAM,oCAOlB,IC3CKM,ECAAC,EF2CCC,EACN,SAAIpB,GAAJ,OAAoBD,EAAWC,IADzBoB,EAEL,SAAIpB,EAAaE,GAAjB,OAA+BH,EAAWC,EAAK,OAAQE,IAFlDkB,EAGJ,SAAIpB,EAAaE,GAAjB,OAA+BH,EAAWC,EAAK,QAASE,IAHpDkB,EAIH,SAACpB,GAAD,OAAiBD,EAAQC,EAAK,WG7C3BqB,EAAW,SAACC,GACvB,OAAOF,EAAA,wBAAoCE,KAOhCC,EAAa,SAACD,GACzB,OAAOF,EAAA,iBAAwBE,KAGpBE,EAAa,SAACF,EAAgBpB,GACzC,OAAOkB,EAAA,iBAA6BE,GAAUpB,I,2BFfpCgB,K,cAAAA,E,gBAAAA,E,sBAAAA,M,cCAAC,K,QAAAA,E,iBAAAA,E,wBAAAA,M,KEWL,ICXKM,EDWCC,EAA0B,SAAC,GAIjC,IAHLC,EAGI,EAHJA,eACAC,EAEI,EAFJA,sBACAC,EACI,EADJA,mBAEMC,EAAWC,cAEjB,OACE,yBAAQC,UAAU,kBAAlB,UACE,uBAAMA,UAAU,aAAhB,oBACML,EADN,qBAKA,sBAAKK,UAAU,SAAf,UACE,cAAC,IAAD,CACEC,GAAG,IACHD,UACEE,IACE,eACA,CAAEC,SAAUL,EAASM,WAAajB,EAAakB,MAGnDC,YAAWpB,EAAOqB,QARpB,iBAaA,cAAC,IAAD,CACEN,GAAG,SACHD,UACEE,IACE,eACA,CAAEC,SAAUL,EAASM,WAAajB,EAAaqB,SAGnDF,YAAWpB,EAAOsB,OARpB,oBAaA,cAAC,IAAD,CACEP,GAAG,YACHD,UACEE,IACE,eACA,CAAEC,SAAUL,EAASM,WAAajB,EAAasB,YAGnDH,YAAWpB,EAAOuB,UARpB,0BAcF,wBACEC,KAAK,SACLV,UAAU,2BACVW,QAASf,EACTgB,MAAO,CAAEC,WAAahB,EAAgC,UAAX,UAJ7C,iCErDOiB,EAA0B,SAAC,GAMjC,IALLC,EAKI,EALJA,gBACAC,EAII,EAJJA,gBACUC,EAGN,EAHJC,SACAC,EAEI,EAFJA,sBACAC,EACI,EADJA,aAEA,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAaA,OACE,yBAAQvB,UAAU,kBAAlB,UACE,wBACEU,KAAK,SACLc,aAAW,SACXxB,UACEE,IACE,sBACA,CAAEM,OAAQO,EAAkB,IAGhCJ,QAASQ,EACTP,MAAO,CAAEC,WAAYO,EAAe,SAAW,aAGjD,sBAAMK,SApBV,SAAsBC,GACpBA,EAAMC,iBACNX,EAAgBM,EAAOC,IAkBrB,SACE,uBACEb,KAAK,OACLV,UAAU,oBACV4B,YAAY,yBACZC,MAAOP,EACPQ,SAhCc,SAACJ,GACrB,IAAQG,EAAUH,EAAMK,OAAhBF,MAERN,EAASM,IA8BHX,SAAUD,UCzCPe,EAAsB,SAAC,GAM7B,IALLC,EAKI,EALJA,KACAC,EAII,EAJJA,aACAC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,sBACAC,EACI,EADJA,WAEQC,EAA8BL,EAA9BK,GAAR,EAAsCL,EAA1BM,aAAZ,MAAoB,GAApB,EAAwB9B,EAAcwB,EAAdxB,UACxB,EAA8BY,oBAAS,GAAvC,mBAAOmB,EAAP,KAAgBC,EAAhB,KACA,EAAkCpB,mBAASkB,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACMC,EAAWC,iBAAgC,MAqCjD,OANAC,qBAAU,WACJF,EAASG,SACXH,EAASG,QAAQC,UAElB,IAGD,sBAAKhD,UAAWE,IAAG,OAAQ,CAAEO,cAA7B,UACE,uBAAOT,UAAU,qBAAqBiD,QAAQ,qBAA9C,SACE,uBACEX,GAAG,qBACH5B,KAAK,WACLV,UAAU,eACVkD,QAASzC,EACTqB,SAAU,kBAAMK,EAAmBF,QAGtCO,EACC,sBAAMf,SAnCS,SAACC,GACpBA,EAAMC,iBACNU,EAAW,2BACNJ,GADK,IAERM,MAAOG,KAETN,GAAsB,SAACe,GAAD,4BAAcA,GAAd,CAAoBb,OAC1CG,GAAW,IA4BP,SACE,uBACEW,IAAKR,EACL5C,UAAU,oBACVU,KAAK,OACLmB,MAAOa,EACPZ,SAtDgB,SAACJ,GACzBiB,EAAajB,EAAMK,OAAOF,QAsDlBwB,OA/CS,WACjBZ,GAAW,GACXE,EAAaJ,IA8CLe,UAjCY,SAAC5B,GACH,WAAdA,EAAM6B,MACRZ,EAAaJ,GACbE,GAAW,SAkCT,sBAAMzC,UAAU,cAAcwD,cAxDV,WACxBf,GAAW,IAuDP,SACGF,IAGL,wBACE7B,KAAK,SACLV,UAAU,eACVW,QAAS,kBAAMuB,EAAaD,IAH9B,kBAOA,sBAAKjC,UAAU,gBAAf,UACE,qBAAKA,UAAU,8CACf,qBAAKA,UAAU,gBApCnB,eAAwDsC,KClD/CmB,EAAsB,SAAC,GAO7B,IANLC,EAMI,EANJA,aACAxB,EAKI,EALJA,aACAC,EAII,EAJJA,mBACAwB,EAGI,EAHJA,mBACAvB,EAEI,EAFJA,sBACAC,EACI,EADJA,WAEA,OACE,mCACGqB,EAAaE,KAAI,SAAC3B,GAEjB,OAAI0B,EAAmB3E,SAASiD,EAAKK,IAEjC,sBAAKtC,UAAU,OAAf,UACE,uBAAOA,UAAU,qBAAqBiD,QAAQ,qBAA9C,SACE,uBACEX,GAAG,qBACH5B,KAAK,WACLV,UAAU,mBAGd,sBACEA,UAAU,cADZ,SAGGiC,EAAKM,QAER,wBACE7B,KAAK,SACLV,UAAU,eAFZ,kBAOA,sBAAKA,UAAU,0BAAf,UACE,qBAAKA,UAAU,8CACf,qBAAKA,UAAU,gBAtBnB,oBAAwCiC,EAAKK,KA6B/C,cAAC,EAAD,CAEEL,KAAMA,EACNC,aAAcA,EACdC,mBAAoBA,EACpBC,sBAAuBA,EACvBC,WAAYA,GALPJ,EAAKK,UC5CTuB,EAAwB,SAAC,GAO/B,IANLH,EAMI,EANJA,aACAxB,EAKI,EALJA,aACAC,EAII,EAJJA,mBACAwB,EAGI,EAHJA,mBACAvB,EAEI,EAFJA,sBACAC,EACI,EADJA,WAEA,OACE,yBAASrC,UAAU,gBAAnB,SACE,cAAC,EAAD,CACE0D,aAAcA,EACdxB,aAAcA,EACdyB,mBAAoBA,EACpBxB,mBAAoBA,EACpBC,sBAAuBA,EACvBC,WAAYA,OCrBPyB,EAAiC,SAAC,GAEzC,IADFC,EACC,EADDA,aAAcC,EACb,EADaA,gBAEhB,OACE,sBAAKhE,UAAU,yDAAf,UACE,wBACEU,KAAK,SACLc,aAAW,SACXxB,UAAU,SACVW,QAAS,kBAAMqD,EAAgB,SAGhCD,EACD,4B,SLpBMtE,K,iCAAAA,E,iCAAAA,E,sCAAAA,E,sCAAAA,M,KMEL,ICWDwE,EAAU,MAGHC,EAAgB,WAC3B,MAA0B7C,mBAAiB,IAA3C,mBAAO8C,EAAP,KAAcC,EAAd,KACA,EAAwC/C,oBAAS,GAAjD,mBAAOgD,EAAP,KAAqBC,EAArB,KACA,EAAwCjD,mBAA4B,MAApE,mBAAO0C,EAAP,KAAqBC,EAArB,KACA,EAAoD3C,mBAAmB,IAAvE,mBAAOsC,EAAP,KAA2BvB,EAA3B,KAGMsB,EDrBuB,SAACa,EAAsBC,GACpD,OAAQD,GACN,KAAKpF,EAAaqB,OAChB,OAAOgE,EAASC,QAAO,SAAAxC,GAAI,OAAKA,EAAKxB,aACvC,KAAKtB,EAAasB,UAChB,OAAO+D,EAASC,QAAO,SAAAxC,GAAI,OAAIA,EAAKxB,aACtC,QACE,OAAO+D,GCcUE,CAFJ3E,cAE6BK,SAAU+D,GAElDxE,EAAiBwE,EAAMM,QAAO,SAAAxC,GAAI,OAAKA,EAAKxB,aAAWkE,OAEvD9E,EAAqBsE,EAAMS,MAAK,SAAA3C,GAAI,OAAuB,IAAnBA,EAAKxB,aAE7CW,EAAgC,IAAjB+C,EAAMQ,OAbM,4CAejC,4BAAAE,EAAA,+EAEyBxF,EAAS4E,GAFlC,OAEUa,EAFV,OAIIV,EAASU,GACTd,EAAgB,MALpB,gDAOIA,EAAgBvE,EAAWsF,UAP/B,0DAfiC,sBA0BjC,IAAMC,EAAa,uCAAG,WACpB1D,EACAC,GAFoB,iBAAAsD,EAAA,0DAIhBvD,EAAM2D,OAJU,wBAKlBX,GAAgB,GACVY,EAAY,CAChB5C,GAAI,EACJhD,OAAQ2E,EACR1B,MAAOjB,EACPb,WAAW,GAGb2D,GAAS,SAAAjB,GAAI,4BAAQA,GAAR,CAAc+B,OAE3B9C,GAAsB,SAACe,GAAD,4BAAcA,GAAd,CAAoB+B,EAAU5C,QAEpDf,EAAS,IAjBS,kBTpCmBrD,ESuDW,CAC5CqE,MAAOjB,EACPhC,OAAQ2E,EACRxD,WAAW,GTzDZrB,EAAA,wBSsDoC6E,GTtDS/F,GSmC9B,OAmBViH,EAnBU,OAyBhBf,GAAS,SAAAjB,GAAI,OAAIA,EAAKsB,QAAO,SAAAxC,GAAI,OAAgB,IAAZA,EAAKK,SAC1C8B,GAAS,SAAAjB,GAAI,4BAAQA,GAAR,CAAcgC,OAC3Bb,GAAgB,GAChBlC,EAAsB,IACtB4B,EAAgB,MA7BA,kDA+BhBA,EAAgBvE,EAAW2F,WAC3Bd,GAAgB,GAhCA,kCTpCE,IAAiBpG,ISoCnB,qBAAH,wDAqCbmH,EAAgB,uCAAG,WAAOpD,GAAP,SAAA4C,EAAA,sEACjBzC,GAAsB,SAACe,GAAD,4BAAcA,GAAd,CAAoBlB,EAAKK,QAD9B,gCAGf9C,EAAWyC,EAAKK,GAAI,CACxBC,MAAON,EAAKM,MACZ9B,UAAWwB,EAAKxB,YALG,OAOrBuD,EAAgB,MAChB5B,EAAsB,IARD,gDAUrB4B,EAAgBvE,EAAW6F,YAVN,yDAAH,sDAchBC,EAAgB,uCAAG,WAAOtD,GAAP,SAAA4C,EAAA,6DACvBzC,GAAsB,SAACe,GAAD,4BAAcA,GAAd,CAAoBlB,EAAKK,QADxB,kBAIf/C,EAAW0C,EAAKK,IAJD,OAKrB8B,GAAS,SAAAjB,GAAI,OAAIA,EAAKsB,QAAO,qBAAGnC,KAAgBL,EAAKK,SACrD0B,EAAgB,MAChB5B,EAAsB,IAPD,gDASrB4B,EAAgBvE,EAAW+F,aATN,yDAAH,sDA4BhBC,EAAyB,uCAAG,4BAAAZ,EAAA,+EAEJjH,QAAQyC,IAAI8D,EAAMP,KAC1C,YAAa,IAAVtB,EAAS,EAATA,GAGD,OAFAF,GAAsB,SAACe,GAAD,4BAAcA,GAAd,CAAoBb,OAEnC9C,EAAW8C,EAAI,CACpB7B,WAAY0D,EAAMuB,OAAM,SAAAzD,GAAI,OAAIA,EAAKxB,mBAPb,OAExBkF,EAFwB,OAY9BvB,EAASuB,GACTvD,EAAsB,IAbQ,gDAe9B4B,EAAgBvE,EAAW6F,YAfG,yDAAH,qDAmBzBM,EAAyB,uCAAG,4BAAAf,EAAA,sEAExBgB,EAAgB1B,EAAMM,QAAO,SAAAxC,GAAI,OAAIA,EAAKxB,aAFlB,SAIxB7C,QAAQyC,IAAIwF,EAAcjC,IAAd,uCAAkB,WAAM3B,GAAN,SAAA4C,EAAA,6DAClCzC,GAAsB,SAACe,GAAD,4BAAcA,GAAd,CAAoBlB,EAAKK,QADb,SAG5B/C,EAAW0C,EAAKK,IAHY,2CAAlB,wDAJY,OAU9B8B,GAAS,SAAAjB,GAAI,OAAIA,EAAKsB,QAAO,SAAAxC,GAAI,OAAuB,IAAnBA,EAAKxB,gBAC1C2B,EAAsB,IAXQ,gDAa9B4B,EAAgBvE,EAAW+F,aAbG,yDAAH,qDAuC/B,OARA1C,qBAAU,YA3JuB,mCA4J/BgD,KACC,IAOD,sBAAK9F,UAAU,UAAf,UACE,oBAAIA,UAAU,iBAAd,oBACCiE,EAGD,sBAAKjE,UAAU,mBAAf,UACE,cAAC,EAAD,CACEe,gBAAiBpB,EACjBqB,gBAAiBgE,EACjB9D,SAAUmD,EACVlD,sBAAuBsE,EACvBrE,aAAcA,IAGhB,cAAC,EAAD,CACEsC,aAAcA,EACdxB,aAAcqD,EACdpD,mBA3FuB,SAC7BF,GAEAmC,EAASD,EAAMP,KAAI,SAACmC,GAClB,OAAI9D,EAAKK,KAAOyD,EAASzD,IAEvB+C,EAAiB,2BAAKpD,GAAN,IAAYxB,WAAYwB,EAAKxB,aAEtC,2BAAKwB,GAAZ,IAAkBxB,WAAYwB,EAAKxB,aAG9BsF,OAiFHpC,mBAAoBA,EACpBvB,sBAAuBA,EACvBC,WA3Ce,SACrB2D,GAEA5B,EAASV,EAAaE,KAAI,SAAC3B,GACzB,OAAIA,EAAKK,KAAO0D,EAAW1D,GAClBL,GAGToD,EAAiB,2BAAKpD,GAAN,IAAYM,MAAOyD,EAAWzD,SAEvC,2BAAKN,GAAZ,IAAkBM,MAAOyD,EAAWzD,kBAoC/B4B,EAAMQ,QACP,cAAC,EAAD,CACEhF,eAAgBA,EAChBC,sBAAuBgG,EACvB/F,mBAAoBA,IAIvBkE,GAEG,cAAC,EAAD,CACEA,aAAcA,EACdC,gBAAiBA,WC9M/BiC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f8293b3c.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nconst BASE_URL = 'https://mate.academy/students-api';\n\n// returns a promise resolved after a given delay\nfunction wait(delay: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\n// To have autocompletion and avoid mistypes\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null, // we can send any data to the server\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    // We add body and Content-Type only for the requests with data\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  // we wait for testing purpose to see loaders\n  return wait(300)\n    .then(() => fetch(BASE_URL + url, options))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      if (!response.headers.get('content-type')?.includes('application/json')) {\n        return new Error('Content-type is not supported');\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","// eslint-disable-next-line no-shadow\nexport enum Status {\n  default = 'all',\n  active = 'active',\n  completed = 'comleted',\n}\n","// eslint-disable-next-line no-shadow\nexport enum LocationEnum {\n  all = '/',\n  active = '/active',\n  completed = '/completed',\n}\n","import { Todo } from '../types/Todo';\nimport { client } from '../utils/fetchClient';\n\nexport const getTodos = (userId: number) => {\n  return client.get<Todo[]>(`/todos?userId=${userId}`);\n};\n\nexport const createTodo = (userId: number, data: unknown) => {\n  return client.post<Todo>(`/todos?userId=${userId}`, data);\n};\n\nexport const deleteTodo = (userId: number) => {\n  return client.delete(`/todos/${userId}`);\n};\n\nexport const updateTodo = (userId: number, data: unknown) => {\n  return client.patch<Todo>(`/todos/${userId}`, data);\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Status } from '../../types/Status';\nimport { LocationEnum } from '../../types/LocationEnum';\n\ntype Props = {\n  itemsLeftCount: number,\n  onDeleteCompletedTodo: () => Promise<void>,\n  isAnyTodoCompleted: boolean,\n};\n\nexport const Footer: React.FC<Props> = ({\n  itemsLeftCount,\n  onDeleteCompletedTodo,\n  isAnyTodoCompleted,\n}) => {\n  const location = useLocation();\n\n  return (\n    <footer className=\"todoapp__footer\">\n      <span className=\"todo-count\">\n        {`${itemsLeftCount} `}\n        items left\n      </span>\n\n      <nav className=\"filter\">\n        <Link\n          to=\"/\"\n          className={\n            cn(\n              'filter__link',\n              { selected: location.pathname === LocationEnum.all },\n            )\n          }\n          data-type={Status.default}\n        >\n          All\n        </Link>\n\n        <Link\n          to=\"active\"\n          className={\n            cn(\n              'filter__link',\n              { selected: location.pathname === LocationEnum.active },\n            )\n          }\n          data-type={Status.active}\n        >\n          Active\n        </Link>\n\n        <Link\n          to=\"completed\"\n          className={\n            cn(\n              'filter__link',\n              { selected: location.pathname === LocationEnum.completed },\n            )\n          }\n          data-type={Status.completed}\n        >\n          Completed\n        </Link>\n      </nav>\n\n      <button\n        type=\"button\"\n        className=\"todoapp__clear-completed\"\n        onClick={onDeleteCompletedTodo}\n        style={{ visibility: !isAnyTodoCompleted ? 'hidden' : 'visible' }}\n      >\n        Clear completed\n      </button>\n    </footer>\n  );\n};\n","// eslint-disable-next-line no-shadow\nexport enum ErrorTypes {\n  ErrorGet = 'Unable to load a todo',\n  ErrorPost = 'Unable to add a todo',\n  ErrorDelete = 'Unable to delete a todo',\n  ErrorPatch = 'Unable to update a todo',\n}\n","import React, { useState } from 'react';\nimport cn from 'classnames';\n\ntype Props = {\n  countActiveTodo: number,\n  onHandleAddTodo: (\n    input: string,\n    setInput: React.Dispatch<React.SetStateAction<string>>,\n  ) => void,\n  disabled: boolean,\n  onChangeStatusAllTodo: () => Promise<void>,\n  haveNotTodos: boolean,\n};\n\nexport const Header: React.FC<Props> = ({\n  countActiveTodo,\n  onHandleAddTodo,\n  disabled: disabeled,\n  onChangeStatusAllTodo,\n  haveNotTodos,\n}) => {\n  const [input, setInput] = useState('');\n\n  const onChangeInput = (event : React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setInput(value);\n  };\n\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    onHandleAddTodo(input, setInput);\n  }\n\n  return (\n    <header className=\"todoapp__header\">\n      <button\n        type=\"button\"\n        aria-label=\"button\"\n        className={\n          cn(\n            'todoapp__toggle-all',\n            { active: countActiveTodo > 0 },\n          )\n        }\n        onClick={onChangeStatusAllTodo}\n        style={{ visibility: haveNotTodos ? 'hidden' : 'visible' }}\n      />\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          className=\"todoapp__new-todo\"\n          placeholder=\"What needs to be done?\"\n          value={input}\n          onChange={onChangeInput}\n          disabled={disabeled}\n        />\n      </form>\n    </header>\n  );\n};\n","import React, {\n  FC, useEffect, useRef, useState,\n} from 'react';\nimport cn from 'classnames';\n\nimport { Todo } from '../types/Todo';\n\ntype Props = {\n  todo: Todo,\n  onRemoveTodo: (todo: Todo) => void\n  onChangeStatusTodo: (todo: Todo) => void,\n  setIdTodoForTempoTodo: React.Dispatch<React.SetStateAction<number[]>>,\n  onEditTodo: (todo: Todo) => void\n};\n\nexport const TodoItem: FC<Props> = ({\n  todo,\n  onRemoveTodo,\n  onChangeStatusTodo,\n  setIdTodoForTempoTodo,\n  onEditTodo,\n}) => {\n  const { id, title = '', completed } = todo;\n  const [editing, setEditing] = useState(false);\n  const [titleEdit, setTitleEdit] = useState(title);\n  const inputRef = useRef<HTMLInputElement | null>(null);\n  const handleTitleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setTitleEdit(event.target.value);\n  };\n\n  const handleDoubleClick = () => {\n    setEditing(true);\n  };\n\n  const handleBlur = () => {\n    setEditing(false);\n    setTitleEdit(title);\n  };\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    onEditTodo({\n      ...todo,\n      title: titleEdit,\n    });\n    setIdTodoForTempoTodo((prev) => [...prev, id]);\n    setEditing(false);\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Escape') {\n      setTitleEdit(title);\n      setEditing(false);\n    }\n  };\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, []);\n\n  return (\n    <div className={cn('todo', { completed })} key={`todo-${id}`}>\n      <label className=\"todo__status-label\" htmlFor=\"todoStatusCheckbox\">\n        <input\n          id=\"todoStatusCheckbox\"\n          type=\"checkbox\"\n          className=\"todo__status\"\n          checked={completed}\n          onChange={() => onChangeStatusTodo(todo)}\n        />\n      </label>\n      {editing ? (\n        <form onSubmit={handleSubmit}>\n          <input\n            ref={inputRef}\n            className=\"todo__title-field\"\n            type=\"text\"\n            value={titleEdit}\n            onChange={handleTitleChange}\n            onBlur={handleBlur}\n            onKeyDown={handleKeyDown}\n          />\n        </form>\n      ) : (\n        <span className=\"todo__title\" onDoubleClick={handleDoubleClick}>\n          {title}\n        </span>\n      )}\n      <button\n        type=\"button\"\n        className=\"todo__remove\"\n        onClick={() => onRemoveTodo(todo)}\n      >\n        ×\n      </button>\n      <div className=\"modal overlay\">\n        <div className=\"modal-background has-background-white-ter\" />\n        <div className=\"loader\" />\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Todo } from '../types/Todo';\nimport { TodoItem } from './TodoItem';\n\ntype Props = {\n  visibleTodos: Todo[],\n  onRemoveTodo: (todo: Todo) => void\n  onChangeStatusTodo: (todo: Todo) => void,\n  idTodoForTempoTodo: number[],\n  setIdTodoForTempoTodo: React.Dispatch<React.SetStateAction<number[]>>\n  onEditTodo: (todo: Todo) => void\n};\n\nexport const TodoList: FC<Props> = ({\n  visibleTodos,\n  onRemoveTodo,\n  onChangeStatusTodo,\n  idTodoForTempoTodo,\n  setIdTodoForTempoTodo,\n  onEditTodo,\n}) => {\n  return (\n    <>\n      {visibleTodos.map((todo) => {\n        // adding tempo todo with loader\n        if (idTodoForTempoTodo.includes(todo.id)) {\n          return (\n            <div className=\"todo\" key={`todoTempo-${todo.id}`}>\n              <label className=\"todo__status-label\" htmlFor=\"todoStatusCheckbox\">\n                <input\n                  id=\"todoStatusCheckbox\"\n                  type=\"checkbox\"\n                  className=\"todo__status\"\n                />\n              </label>\n              <span\n                className=\"todo__title\"\n              >\n                {todo.title}\n              </span>\n              <button\n                type=\"button\"\n                className=\"todo__remove\"\n              >\n                ×\n              </button>\n\n              <div className=\"modal overlay is-active\">\n                <div className=\"modal-background has-background-white-ter\" />\n                <div className=\"loader\" />\n              </div>\n            </div>\n          );\n        }\n\n        return (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            onRemoveTodo={onRemoveTodo}\n            onChangeStatusTodo={onChangeStatusTodo}\n            setIdTodoForTempoTodo={setIdTodoForTempoTodo}\n            onEditTodo={onEditTodo}\n          />\n        );\n      })}\n    </>\n  );\n};\n","import React from 'react';\nimport { Todo } from '../../types/Todo';\nimport { TodoList } from '../TodoList';\n\ntype Props = {\n  visibleTodos: Todo[],\n  onRemoveTodo: (todo: Todo) => void\n  onChangeStatusTodo: (todo: Todo) => void,\n  idTodoForTempoTodo: number[],\n  setIdTodoForTempoTodo: React.Dispatch<React.SetStateAction<number[]>>\n  onEditTodo: (todo: Todo) => void\n};\n\nexport const Main: React.FC<Props> = ({\n  visibleTodos,\n  onRemoveTodo,\n  onChangeStatusTodo,\n  idTodoForTempoTodo,\n  setIdTodoForTempoTodo,\n  onEditTodo,\n}) => {\n  return (\n    <section className=\"todoapp__main\">\n      <TodoList\n        visibleTodos={visibleTodos}\n        onRemoveTodo={onRemoveTodo}\n        idTodoForTempoTodo={idTodoForTempoTodo}\n        onChangeStatusTodo={onChangeStatusTodo}\n        setIdTodoForTempoTodo={setIdTodoForTempoTodo}\n        onEditTodo={onEditTodo}\n      />\n    </section>\n  );\n};\n","import React from 'react';\nimport { ErrorTypes } from '../../types/ErrorTypes';\n\ntype Props = {\n  errorMessage: ErrorTypes,\n  setErrorMessage: React.Dispatch<React.SetStateAction<ErrorTypes | null>>\n};\n\nexport const ErrorMessages: React.FC<Props> = (\n  { errorMessage, setErrorMessage },\n) => {\n  return (\n    <div className=\"notification is-danger is-light has-text-weight-normal\">\n      <button\n        type=\"button\"\n        aria-label=\"button\"\n        className=\"delete\"\n        onClick={() => setErrorMessage(null)}\n      />\n\n      {errorMessage}\n      <br />\n    </div>\n  );\n};\n","import { Todo } from '../types/Todo';\nimport { LocationEnum } from '../types/LocationEnum';\n\nexport const getVisibleTodos = (locationPath: string, todosArr: Todo[]) => {\n  switch (locationPath) {\n    case LocationEnum.active:\n      return todosArr.filter(todo => !todo.completed);\n    case LocationEnum.completed:\n      return todosArr.filter(todo => todo.completed);\n    default:\n      return todosArr;\n  }\n};\n","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { UserWarning } from './UserWarning';\nimport { Todo } from './types/Todo';\nimport {\n  createTodo, getTodos, deleteTodo, updateTodo,\n} from './api/todos';\nimport { Footer } from './components/Footer/Footer';\nimport { Header } from './components/Header/Header';\nimport { Main } from './components/Main/Main';\nimport { ErrorMessages } from './components/ErrorMessages/ErrorMessages';\nimport { ErrorTypes } from './types/ErrorTypes';\nimport { getVisibleTodos } from './utils/getVisibleTodos';\n\nconst USER_ID = 10548;\n// const USER_ID = undefined;\n\nexport const App: React.FC = () => {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [disableInput, setDisableInput] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<ErrorTypes | null>(null);\n  const [idTodoForTempoTodo, setIdTodoForTempoTodo] = useState<number[]>([]);\n  const location = useLocation();\n\n  const visibleTodos = getVisibleTodos(location.pathname, todos);\n\n  const itemsLeftCount = todos.filter(todo => !todo.completed).length;\n\n  const isAnyTodoCompleted = todos.some(todo => todo.completed === true);\n\n  const haveNotTodos = todos.length === 0;\n\n  async function loadedTodos() {\n    try {\n      const result = await getTodos(USER_ID);\n\n      setTodos(result);\n      setErrorMessage(null);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorGet);\n    }\n  }\n\n  const handleAddTodo = async (\n    input: string,\n    setInput: React.Dispatch<React.SetStateAction<string>>,\n  ) => {\n    if (input.trim()) {\n      setDisableInput(true);\n      const todoTempo = {\n        id: 0,\n        userId: USER_ID,\n        title: input,\n        completed: false,\n      };\n\n      setTodos(prev => [...prev, todoTempo]);\n\n      setIdTodoForTempoTodo((prev) => [...prev, todoTempo.id]);\n\n      setInput('');\n      try {\n        const createdTodo = await createTodo(USER_ID, {\n          title: input,\n          userId: USER_ID,\n          completed: false,\n        });\n\n        setTodos(prev => prev.filter(todo => todo.id !== 0));\n        setTodos(prev => [...prev, createdTodo]);\n        setDisableInput(false);\n        setIdTodoForTempoTodo([]);\n        setErrorMessage(null);\n      } catch (error) {\n        setErrorMessage(ErrorTypes.ErrorPost);\n        setDisableInput(false);\n      }\n    }\n  };\n\n  const handleUpdateTodo = async (todo: Todo) => {\n    await setIdTodoForTempoTodo((prev) => [...prev, todo.id]);\n    try {\n      await updateTodo(todo.id, {\n        title: todo.title,\n        completed: todo.completed,\n      });\n      setErrorMessage(null);\n      setIdTodoForTempoTodo([]);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorPatch);\n    }\n  };\n\n  const handleRemoveTodo = async (todo: Todo) => {\n    setIdTodoForTempoTodo((prev) => [...prev, todo.id]);\n\n    try {\n      await deleteTodo(todo.id);\n      setTodos(prev => prev.filter(({ id }) => id !== todo.id));\n      setErrorMessage(null);\n      setIdTodoForTempoTodo([]);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorDelete);\n    }\n  };\n\n  const handleChangeStatusTodo = (\n    todo: Todo,\n  ) => {\n    setTodos(todos.map((todoPrev) => {\n      if (todo.id === todoPrev.id) {\n        // console.log(todoPrev.id, todo.id)\n        handleUpdateTodo({ ...todo, completed: !todo.completed });\n\n        return { ...todo, completed: !todo.completed };\n      }\n\n      return todoPrev;\n    }));\n  };\n\n  const handleChangeStatusAllTodo = async () => {\n    try {\n      const todosStatus = await Promise.all(todos.map(\n        ({ id }) => {\n          setIdTodoForTempoTodo((prev) => [...prev, id]);\n\n          return updateTodo(id, {\n            completed: !todos.every(todo => todo.completed),\n          });\n        },\n      ));\n\n      setTodos(todosStatus);\n      setIdTodoForTempoTodo([]);\n    } catch {\n      setErrorMessage(ErrorTypes.ErrorPatch);\n    }\n  };\n\n  const handleDeleteCompletedTodo = async () => {\n    try {\n      const comletedTodos = todos.filter(todo => todo.completed);\n\n      await Promise.all(comletedTodos.map(async todo => {\n        setIdTodoForTempoTodo((prev) => [...prev, todo.id]);\n\n        await deleteTodo(todo.id);\n      }));\n\n      setTodos(prev => prev.filter(todo => todo.completed === false));\n      setIdTodoForTempoTodo([]);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorDelete);\n    }\n  };\n\n  const handleEditTodo = (\n    todoEdited: Todo,\n  ) => {\n    setTodos(visibleTodos.map((todo) => {\n      if (todo.id !== todoEdited.id) {\n        return todo;\n      }\n\n      handleUpdateTodo({ ...todo, title: todoEdited.title });\n\n      return { ...todo, title: todoEdited.title };\n    }));\n  };\n\n  useEffect(() => {\n    loadedTodos();\n  }, []);\n\n  if (!USER_ID) {\n    return <UserWarning />;\n  }\n\n  return (\n    <div className=\"todoapp\">\n      <h1 className=\"todoapp__title\">todos</h1>\n      {USER_ID === undefined && (\n        <UserWarning />\n      )}\n      <div className=\"todoapp__content\">\n        <Header\n          countActiveTodo={itemsLeftCount}\n          onHandleAddTodo={handleAddTodo}\n          disabled={disableInput}\n          onChangeStatusAllTodo={handleChangeStatusAllTodo}\n          haveNotTodos={haveNotTodos}\n        />\n\n        <Main\n          visibleTodos={visibleTodos}\n          onRemoveTodo={handleRemoveTodo}\n          onChangeStatusTodo={handleChangeStatusTodo}\n          idTodoForTempoTodo={idTodoForTempoTodo}\n          setIdTodoForTempoTodo={setIdTodoForTempoTodo}\n          onEditTodo={handleEditTodo}\n        />\n\n        {!!todos.length && (\n          <Footer\n            itemsLeftCount={itemsLeftCount}\n            onDeleteCompletedTodo={handleDeleteCompletedTodo}\n            isAnyTodoCompleted={isAnyTodoCompleted}\n          />\n        )}\n\n        {errorMessage\n          && (\n            <ErrorMessages\n              errorMessage={errorMessage}\n              setErrorMessage={setErrorMessage}\n            />\n          )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport './styles/index.scss';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}