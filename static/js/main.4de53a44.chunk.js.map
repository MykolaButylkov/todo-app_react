{"version":3,"sources":["utils/fetchClient.ts","types/Status.ts","types/LocationEnum.ts","api/todos.ts","types/ErrorTypes.ts","components/Footer/Footer.tsx","components/Header/Header.tsx","components/TodoItem.tsx","components/TodoList.tsx","components/Main/Main.tsx","components/ErrorMessages/ErrorMessages.tsx","utils/getVisibleTodos.ts","types/DefaultUserId.ts","components/Login/Login.tsx","api/users.ts","App.tsx","index.tsx"],"names":["BASE_URL","wait","delay","Promise","resolve","setTimeout","request","url","method","data","options","body","JSON","stringify","headers","then","fetch","response","ok","Error","status","statusText","get","includes","json","Status","LocationEnum","client","getTodos","userId","createTodo","deleteTodo","updateTodo","ErrorTypes","Footer","itemsLeftCount","onDeleteCompletedTodo","isAnyTodoCompleted","location","useLocation","className","to","cn","selected","pathname","all","data-type","default","active","completed","type","onClick","style","visibility","Header","countActiveTodo","onHandleAddTodo","disabled","onChangeStatusAllTodo","haveNotTodos","useState","input","setInput","aria-label","onSubmit","event","preventDefault","placeholder","value","onChange","target","TodoItem","todo","onRemoveTodo","onChangeStatusTodo","setIdTodoForTempoTodo","onEditTodo","id","title","editing","setEditing","titleEdit","setTitleEdit","inputRef","useRef","useEffect","current","focus","htmlFor","toString","checked","prev","ref","onBlur","onKeyDown","key","onDoubleClick","TodoList","visibleTodos","idTodoForTempoTodo","map","Main","ErrorMessages","errorMessage","setErrorMessage","DefaultUserId","Login","setUserID","inputEmail","setInputEmail","handleGetUser","a","result","handleCreateUser","name","Math","random","toFixed","username","email","phone","usersColection","length","user","localStorage","setItem","required","USER_ID","ZERO","App","todos","setTodos","disableInput","setDisableInput","locationPath","todosArr","filter","getVisibleTodos","some","ErrorGet","handleAddTodo","trim","todoTempo","createdTodo","ErrorPost","handleUpdateTodo","ErrorPatch","handleRemoveTodo","ErrorDelete","handleChangeStatusAllTodo","every","todosStatus","handleDeleteCompletedTodo","comletedTodos","loadedTodos","idFromLocalStorage","getItem","todoPrev","todoEdited","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4de53a44.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nconst BASE_URL = 'https://mate.academy/students-api';\n\n// returns a promise resolved after a given delay\nfunction wait(delay: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\n// To have autocompletion and avoid mistypes\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null, // we can send any data to the server\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    // We add body and Content-Type only for the requests with data\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  // we wait for testing purpose to see loaders\n  return wait(300)\n    .then(() => fetch(BASE_URL + url, options))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      if (!response.headers.get('content-type')?.includes('application/json')) {\n        return new Error('Content-type is not supported');\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","// eslint-disable-next-line no-shadow\nexport enum Status {\n  default = 'all',\n  active = 'active',\n  completed = 'comleted',\n}\n","// eslint-disable-next-line no-shadow\nexport enum LocationEnum {\n  all = '/',\n  active = '/active',\n  completed = '/completed',\n}\n","import { Todo } from '../types/Todo';\nimport { client } from '../utils/fetchClient';\n\nexport const getTodos = (userId: number) => {\n  return client.get<Todo[]>(`/todos?userId=${userId}`);\n};\n\nexport const createTodo = (userId: number, data: unknown) => {\n  return client.post<Todo>(`/todos?userId=${userId}`, data);\n};\n\nexport const deleteTodo = (userId: number) => {\n  return client.delete(`/todos/${userId}`);\n};\n\nexport const updateTodo = (userId: number, data: unknown) => {\n  return client.patch<Todo>(`/todos/${userId}`, data);\n};\n","// eslint-disable-next-line no-shadow\nexport enum ErrorTypes {\n  ErrorGet = 'Unable to load a todo',\n  ErrorPost = 'Unable to add a todo',\n  ErrorDelete = 'Unable to delete a todo',\n  ErrorPatch = 'Unable to update a todo',\n}\n","import React from 'react';\nimport cn from 'classnames';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Status } from '../../types/Status';\nimport { LocationEnum } from '../../types/LocationEnum';\n\ntype Props = {\n  itemsLeftCount: number,\n  onDeleteCompletedTodo: () => Promise<void>,\n  isAnyTodoCompleted: boolean,\n};\n\nexport const Footer: React.FC<Props> = ({\n  itemsLeftCount,\n  onDeleteCompletedTodo,\n  isAnyTodoCompleted,\n}) => {\n  const location = useLocation();\n\n  return (\n    <footer className=\"todoapp__footer\">\n      <span className=\"todo-count\">\n        {`${itemsLeftCount} `}\n        items left\n      </span>\n\n      <nav className=\"filter\">\n        <Link\n          to=\"/\"\n          className={\n            cn(\n              'filter__link',\n              { selected: location.pathname === LocationEnum.all },\n            )\n          }\n          data-type={Status.default}\n        >\n          All\n        </Link>\n\n        <Link\n          to=\"active\"\n          className={\n            cn(\n              'filter__link',\n              { selected: location.pathname === LocationEnum.active },\n            )\n          }\n          data-type={Status.active}\n        >\n          Active\n        </Link>\n\n        <Link\n          to=\"completed\"\n          className={\n            cn(\n              'filter__link',\n              { selected: location.pathname === LocationEnum.completed },\n            )\n          }\n          data-type={Status.completed}\n        >\n          Completed\n        </Link>\n      </nav>\n\n      <button\n        type=\"button\"\n        className=\"todoapp__clear-completed\"\n        onClick={onDeleteCompletedTodo}\n        style={{ visibility: !isAnyTodoCompleted ? 'hidden' : 'visible' }}\n      >\n        Clear completed\n      </button>\n    </footer>\n  );\n};\n","import React, { useState } from 'react';\nimport cn from 'classnames';\n\ntype Props = {\n  countActiveTodo: number,\n  onHandleAddTodo: (\n    input: string,\n    setInput: React.Dispatch<React.SetStateAction<string>>,\n  ) => void,\n  disabled: boolean,\n  onChangeStatusAllTodo: () => Promise<void>,\n  haveNotTodos: boolean,\n};\n\nexport const Header: React.FC<Props> = ({\n  countActiveTodo,\n  onHandleAddTodo,\n  disabled,\n  onChangeStatusAllTodo,\n  haveNotTodos,\n}) => {\n  const [input, setInput] = useState('');\n\n  const onChangeInput = (event : React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setInput(value);\n  };\n\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    onHandleAddTodo(input, setInput);\n  }\n\n  return (\n    <header className=\"todoapp__header\">\n      <button\n        type=\"button\"\n        aria-label=\"button\"\n        className={\n          cn(\n            'todoapp__toggle-all',\n            { active: countActiveTodo > 0 },\n          )\n        }\n        onClick={onChangeStatusAllTodo}\n        style={{ visibility: haveNotTodos ? 'hidden' : 'visible' }}\n      />\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          className=\"todoapp__new-todo\"\n          placeholder=\"What needs to be done?\"\n          value={input}\n          onChange={onChangeInput}\n          disabled={disabled}\n        />\n      </form>\n    </header>\n  );\n};\n","import React, {\n  FC, useEffect, useRef, useState,\n} from 'react';\nimport cn from 'classnames';\n\nimport { Todo } from '../types/Todo';\n\ntype Props = {\n  todo: Todo,\n  onRemoveTodo: (todo: Todo) => void\n  onChangeStatusTodo: (todo: Todo) => void,\n  setIdTodoForTempoTodo: React.Dispatch<React.SetStateAction<number[]>>,\n  onEditTodo: (todo: Todo) => void\n};\n\nexport const TodoItem: FC<Props> = ({\n  todo,\n  onRemoveTodo,\n  onChangeStatusTodo,\n  setIdTodoForTempoTodo,\n  onEditTodo,\n}) => {\n  const { id, title = '', completed } = todo;\n  const [editing, setEditing] = useState(false);\n  const [titleEdit, setTitleEdit] = useState(title);\n  const inputRef = useRef<HTMLInputElement | null>(null);\n  const handleTitleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setTitleEdit(event.target.value);\n  };\n\n  const handleDoubleClick = () => {\n    setEditing(true);\n  };\n\n  const handleBlur = () => {\n    setEditing(false);\n    setTitleEdit(title);\n  };\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    onEditTodo({\n      ...todo,\n      title: titleEdit,\n    });\n    setIdTodoForTempoTodo((prev) => [...prev, id]);\n    setEditing(false);\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Escape') {\n      setTitleEdit(title);\n      setEditing(false);\n    }\n  };\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, []);\n\n  return (\n    <div className={cn('todo', { completed })}>\n      <label className=\"todo__status-label\" htmlFor={todo.id.toString()}>\n        <input\n          id={todo.id.toString()}\n          type=\"checkbox\"\n          className=\"todo__status\"\n          checked={completed}\n          onChange={() => onChangeStatusTodo(todo)}\n        />\n      </label>\n      {editing ? (\n        <form onSubmit={handleSubmit}>\n          <input\n            ref={inputRef}\n            className=\"todo__title-field\"\n            type=\"text\"\n            value={titleEdit}\n            onChange={handleTitleChange}\n            onBlur={handleBlur}\n            onKeyDown={handleKeyDown}\n          />\n        </form>\n      ) : (\n        <span className=\"todo__title\" onDoubleClick={handleDoubleClick}>\n          {title}\n        </span>\n      )}\n      <button\n        type=\"button\"\n        className=\"todo__remove\"\n        onClick={() => onRemoveTodo(todo)}\n      >\n        ×\n      </button>\n      <div className=\"modal overlay\">\n        <div className=\"modal-background has-background-white-ter\" />\n        <div className=\"loader\" />\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Todo } from '../types/Todo';\nimport { TodoItem } from './TodoItem';\n\ntype Props = {\n  visibleTodos: Todo[],\n  onRemoveTodo: (todo: Todo) => void\n  onChangeStatusTodo: (todo: Todo) => void,\n  idTodoForTempoTodo: number[],\n  setIdTodoForTempoTodo: React.Dispatch<React.SetStateAction<number[]>>\n  onEditTodo: (todo: Todo) => void\n};\n\nexport const TodoList: FC<Props> = ({\n  visibleTodos,\n  onRemoveTodo,\n  onChangeStatusTodo,\n  idTodoForTempoTodo,\n  setIdTodoForTempoTodo,\n  onEditTodo,\n}) => {\n  return (\n    <>\n      {visibleTodos.map((todo) => {\n        // adding tempo todo with loader\n        if (idTodoForTempoTodo.includes(todo.id)) {\n          return (\n            <div className=\"todo\" key={`todoTempo-${todo.id}`}>\n              <label className=\"todo__status-label\" htmlFor=\"todoStatusCheckbox\">\n                <input\n                  id=\"todoStatusCheckbox\"\n                  type=\"checkbox\"\n                  className=\"todo__status\"\n                />\n              </label>\n              <span\n                className=\"todo__title\"\n              >\n                {todo.title}\n              </span>\n              <button\n                type=\"button\"\n                className=\"todo__remove\"\n              >\n                ×\n              </button>\n\n              <div className=\"modal overlay is-active\">\n                <div className=\"modal-background has-background-white-ter\" />\n                <div className=\"loader\" />\n              </div>\n            </div>\n          );\n        }\n\n        return (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            onRemoveTodo={onRemoveTodo}\n            onChangeStatusTodo={onChangeStatusTodo}\n            setIdTodoForTempoTodo={setIdTodoForTempoTodo}\n            onEditTodo={onEditTodo}\n          />\n        );\n      })}\n    </>\n  );\n};\n","import React from 'react';\nimport { Todo } from '../../types/Todo';\nimport { TodoList } from '../TodoList';\n\ntype Props = {\n  visibleTodos: Todo[],\n  onRemoveTodo: (todo: Todo) => void\n  onChangeStatusTodo: (todo: Todo) => void,\n  idTodoForTempoTodo: number[],\n  setIdTodoForTempoTodo: React.Dispatch<React.SetStateAction<number[]>>\n  onEditTodo: (todo: Todo) => void\n};\n\nexport const Main: React.FC<Props> = ({\n  visibleTodos,\n  onRemoveTodo,\n  onChangeStatusTodo,\n  idTodoForTempoTodo,\n  setIdTodoForTempoTodo,\n  onEditTodo,\n}) => {\n  return (\n    <section className=\"todoapp__main\">\n      <TodoList\n        visibleTodos={visibleTodos}\n        onRemoveTodo={onRemoveTodo}\n        idTodoForTempoTodo={idTodoForTempoTodo}\n        onChangeStatusTodo={onChangeStatusTodo}\n        setIdTodoForTempoTodo={setIdTodoForTempoTodo}\n        onEditTodo={onEditTodo}\n      />\n    </section>\n  );\n};\n","import React from 'react';\nimport { ErrorTypes } from '../../types/ErrorTypes';\n\ntype Props = {\n  errorMessage: ErrorTypes,\n  setErrorMessage: React.Dispatch<React.SetStateAction<ErrorTypes | null>>\n};\n\nexport const ErrorMessages: React.FC<Props> = (\n  { errorMessage, setErrorMessage },\n) => {\n  return (\n    <div className=\"notification is-danger is-light has-text-weight-normal\">\n      <button\n        type=\"button\"\n        aria-label=\"button\"\n        className=\"delete\"\n        onClick={() => setErrorMessage(null)}\n      />\n\n      {errorMessage}\n      <br />\n    </div>\n  );\n};\n","import { Todo } from '../types/Todo';\nimport { LocationEnum } from '../types/LocationEnum';\n\nexport const getVisibleTodos = (locationPath: string, todosArr: Todo[]) => {\n  switch (locationPath) {\n    case LocationEnum.active:\n      return todosArr.filter(todo => !todo.completed);\n    case LocationEnum.completed:\n      return todosArr.filter(todo => todo.completed);\n    default:\n      return todosArr;\n  }\n};\n","// eslint-disable-next-line no-shadow\nexport enum DefaultUserId {\n  ZERO = 0,\n}\n","import React, { useState } from 'react';\nimport { createUser, getUser } from '../../api/users';\nimport { User } from '../../types/User';\n\ntype Props = {\n  setUserID: React.Dispatch<React.SetStateAction<number>>,\n};\n\nexport const Login: React.FC<Props> = ({ setUserID }) => {\n  const [inputEmail, setInputEmail] = useState<string>('');\n\n  const handleGetUser = async (\n    input: string,\n  ) => {\n    let result;\n\n    try {\n      result = await getUser(input);\n\n      return result;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  const handleCreateUser = async (\n    input: string,\n  ) => {\n    let result;\n\n    try {\n      result = await createUser(input, {\n        name: `User-${(Math.random() * 1000).toFixed()}`,\n        username: 'UserName',\n        email: input,\n        phone: 123456789,\n      });\n\n      return result;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  async function handleLoginForm(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    const usersColection = await handleGetUser(inputEmail) as User[];\n\n    if (usersColection && usersColection.length === 0) {\n      const user = await handleCreateUser(inputEmail) as User;\n\n      if (user) {\n        setUserID(user.id);\n        localStorage.setItem('userId', `${user.id}`);\n      }\n    }\n  }\n\n  return (\n    <section className=\"section\">\n      <div className=\"box is-size-3\">\n        <h1>Log in to open todos</h1>\n        <span className=\"highlight\">Email</span>\n        <form onSubmit={handleLoginForm}>\n          <input\n            type=\"email\"\n            value={inputEmail}\n            placeholder=\"Enter your email\"\n            onChange={({ target }) => setInputEmail(target.value)}\n            required\n          />\n          <br />\n          <button type=\"submit\">Login</button>\n        </form>\n      </div>\n    </section>\n  );\n};\n","import { User } from '../types/User';\nimport { client } from '../utils/fetchClient';\n\nexport const getUser = (email: string) => {\n  return client.get<User[]>(`/users?email=${email}`);\n};\n\nexport const createUser = (email: string, data: unknown) => {\n  return client.post<User>('/users', data);\n};\n","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Todo } from './types/Todo';\nimport {\n  createTodo, getTodos, deleteTodo, updateTodo,\n} from './api/todos';\nimport { Footer } from './components/Footer/Footer';\nimport { Header } from './components/Header/Header';\nimport { Main } from './components/Main/Main';\nimport { ErrorMessages } from './components/ErrorMessages/ErrorMessages';\nimport { ErrorTypes } from './types/ErrorTypes';\nimport { getVisibleTodos } from './utils/getVisibleTodos';\nimport { Login } from './components/Login/Login';\nimport { DefaultUserId } from './types/DefaultUserId';\n\n// let USER_ID = 10548;\nconst USER_ID = DefaultUserId.ZERO;\n\nexport const App: React.FC = () => {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [disableInput, setDisableInput] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<ErrorTypes | null>(null);\n  const [idTodoForTempoTodo, setIdTodoForTempoTodo] = useState<number[]>([]);\n  const [userId, setUserID] = useState<number>(USER_ID);\n  const location = useLocation();\n\n  const visibleTodos = getVisibleTodos(location.pathname, todos);\n\n  const itemsLeftCount = todos.filter(todo => !todo.completed).length;\n\n  const isAnyTodoCompleted = todos.some(todo => todo.completed === true);\n\n  const haveNotTodos = todos.length === 0;\n\n  async function loadedTodos() {\n    try {\n      const result = await getTodos(USER_ID);\n\n      setTodos(result);\n      setErrorMessage(null);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorGet);\n    }\n  }\n\n  const handleAddTodo = async (\n    input: string,\n    setInput: React.Dispatch<React.SetStateAction<string>>,\n  ) => {\n    if (input.trim()) {\n      setDisableInput(true);\n      const todoTempo = {\n        id: 0,\n        userId: USER_ID,\n        title: input,\n        completed: false,\n      };\n\n      setTodos(prev => [...prev, todoTempo]);\n\n      setIdTodoForTempoTodo((prev) => [...prev, todoTempo.id]);\n\n      setInput('');\n      try {\n        const createdTodo = await createTodo(USER_ID, {\n          title: input,\n          userId: USER_ID,\n          completed: false,\n        });\n\n        setTodos(prev => prev.filter(todo => todo.id !== 0));\n        setTodos(prev => [...prev, createdTodo]);\n        setDisableInput(false);\n        setIdTodoForTempoTodo([]);\n        setErrorMessage(null);\n      } catch (error) {\n        setErrorMessage(ErrorTypes.ErrorPost);\n        setDisableInput(false);\n      }\n    }\n  };\n\n  const handleUpdateTodo = async (todo: Todo) => {\n    await setIdTodoForTempoTodo((prev) => [...prev, todo.id]);\n    try {\n      await updateTodo(todo.id, {\n        title: todo.title,\n        completed: todo.completed,\n      });\n      setErrorMessage(null);\n      setIdTodoForTempoTodo([]);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorPatch);\n    }\n  };\n\n  const handleRemoveTodo = async (todo: Todo) => {\n    setIdTodoForTempoTodo((prev) => [...prev, todo.id]);\n\n    try {\n      await deleteTodo(todo.id);\n      setTodos(prev => prev.filter(({ id }) => id !== todo.id));\n      setErrorMessage(null);\n      setIdTodoForTempoTodo([]);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorDelete);\n    }\n  };\n\n  const handleChangeStatusTodo = (\n    todo: Todo,\n  ) => {\n    setTodos(todos.map((todoPrev) => {\n      if (todo.id === todoPrev.id) {\n        // console.log(todoPrev.id, todo.id)\n        handleUpdateTodo({ ...todo, completed: !todo.completed });\n\n        return { ...todo, completed: !todo.completed };\n      }\n\n      return todoPrev;\n    }));\n  };\n\n  const handleChangeStatusAllTodo = async () => {\n    try {\n      const todosStatus = await Promise.all(todos.map(\n        ({ id }) => {\n          setIdTodoForTempoTodo((prev) => [...prev, id]);\n\n          return updateTodo(id, {\n            completed: !todos.every(todo => todo.completed),\n          });\n        },\n      ));\n\n      setTodos(todosStatus);\n      setIdTodoForTempoTodo([]);\n    } catch {\n      setErrorMessage(ErrorTypes.ErrorPatch);\n    }\n  };\n\n  const handleDeleteCompletedTodo = async () => {\n    try {\n      const comletedTodos = todos.filter(todo => todo.completed);\n\n      await Promise.all(comletedTodos.map(async todo => {\n        setIdTodoForTempoTodo((prev) => [...prev, todo.id]);\n\n        await deleteTodo(todo.id);\n      }));\n\n      setTodos(prev => prev.filter(todo => todo.completed === false));\n      setIdTodoForTempoTodo([]);\n    } catch (error) {\n      setErrorMessage(ErrorTypes.ErrorDelete);\n    }\n  };\n\n  const handleEditTodo = (\n    todoEdited: Todo,\n  ) => {\n    setTodos(visibleTodos.map((todo) => {\n      if (todo.id !== todoEdited.id) {\n        return todo;\n      }\n\n      handleUpdateTodo({ ...todo, title: todoEdited.title });\n\n      return { ...todo, title: todoEdited.title };\n    }));\n  };\n\n  useEffect(() => {\n    loadedTodos();\n  }, []);\n\n  const idFromLocalStorage = localStorage.getItem('userId');\n\n  useEffect(() => {\n    if (idFromLocalStorage !== null) {\n      setUserID(+idFromLocalStorage);\n    }\n  }, [userId]);\n\n  return (\n    <div className=\"todoapp\">\n      {userId ? (\n        <>\n          <h1 className=\"todoapp__title\">todos</h1>\n          <div className=\"todoapp__content\">\n\n            <Header\n              countActiveTodo={itemsLeftCount}\n              onHandleAddTodo={handleAddTodo}\n              disabled={disableInput}\n              onChangeStatusAllTodo={handleChangeStatusAllTodo}\n              haveNotTodos={haveNotTodos}\n            />\n\n            <Main\n              visibleTodos={visibleTodos}\n              onRemoveTodo={handleRemoveTodo}\n              onChangeStatusTodo={handleChangeStatusTodo}\n              idTodoForTempoTodo={idTodoForTempoTodo}\n              setIdTodoForTempoTodo={setIdTodoForTempoTodo}\n              onEditTodo={handleEditTodo}\n            />\n\n            {!!todos.length && (\n              <Footer\n                itemsLeftCount={itemsLeftCount}\n                onDeleteCompletedTodo={handleDeleteCompletedTodo}\n                isAnyTodoCompleted={isAnyTodoCompleted}\n              />\n            )}\n\n            {errorMessage\n            && (\n              <ErrorMessages\n                errorMessage={errorMessage}\n                setErrorMessage={setErrorMessage}\n              />\n            )}\n          </div>\n\n        </>\n      ) : (\n        <Login setUserID={setUserID} />\n      )}\n\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport './styles/index.scss';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}